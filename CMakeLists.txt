cmake_minimum_required(VERSION 2.6)
project(SURGICAL_PHYSICS)

set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/CMakeModules")

IF (NOT CMAKE_BUILD_TYPE)
# SET(CMAKE_BUILD_TYPE "Debug")
 SET(CMAKE_BUILD_TYPE "Release")
ENDIF (NOT CMAKE_BUILD_TYPE) 

find_package(Boost COMPONENTS program_options REQUIRED)

find_package(Eigen3 REQUIRED)
find_package(OpenRAVE 0.5 REQUIRED)

find_package(OpenThreads REQUIRED)
find_package(osg REQUIRED)
find_package(osgDB REQUIRED)
find_package(osgGA REQUIRED)
find_package(osgText REQUIRED)
find_package(osgUtil REQUIRED)
find_package(osgViewer REQUIRED)
set(OSG_LIBS ${OPENTHREADS_LIBRARY} ${OSG_LIBRARY} ${OSGDB_LIBRARY} ${OSGGA_LIBRARY} ${OSGTEXT_LIBRARY} ${OSGUTIL_LIBRARY} ${OSGVIEWER_LIBRARY})
set(OSG_INCLUDE_DIRS ${OPENTHREADS_LIBRARY_INCLUDE_DIR} ${OSG_LIBRARY_INCLUDE_DIR} ${OSGDB_LIBRARY_INCLUDE_DIR} ${OSGGA_LIBRARY_INCLUDE_DIR} ${OSGTEXT_LIBRARY_INCLUDE_DIR} ${OSGUTIL_LIBRARY_INCLUDE_DIR} ${OSGVIEWER_LIBRARY_INCLUDE_DIR})

# directories for libraries packaged in this tree
set(BULLET_DIR ${SURGICAL_PHYSICS_SOURCE_DIR}/lib/bullet-2.79)
set(OSGWORKS_DIR ${SURGICAL_PHYSICS_SOURCE_DIR}/lib/osgWorks-2.0)
set(OSGBULLET_DIR ${SURGICAL_PHYSICS_SOURCE_DIR}/lib/osgBullet-2.0)

option(BUILD_PERCEPTION OFF)
if(BUILD_PERCEPTION)
  add_definitions("-DBUILD_PERCEPTION")
  add_subdirectory(perception)
endif(BUILD_PERCEPTION)


add_subdirectory(lib)
add_subdirectory(src)
